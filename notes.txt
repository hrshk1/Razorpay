first signin in razorpay 
turn on test mode
generate api key and secret and paste them in .env file 
now in terminal write npm i razorpay
import razorpay in server.js
now go to razorpay documentation in that payment>>payment gateway>>server integration>>nodejs>>integration steps
now makes routes in app.js then make product routes and finally the product controller
now designing the basic setup for payment

on the pay button apply a onclick checkouthandler and design the basic function for now like this:
 const checkoutHandler=async(amount)=>{
        console.log(amount)
        const {data:keyData} = await axios.get("/api/v1/getKey");
        const{key}=keyData;
        console.log(key);
        const {data:orderData} = await axios.post("/api/v1/payment/process", { amount });
        console.log(orderData)
        const {order}=orderData;
        console.log(order); 
    }

copy the script in index.html
 <script src="https://checkout.razorpay.com/v1/checkout.js"></script> 
 -->get the above script from razorpay documentation website

 in the last of checkouthandler paste this option from razorpay docs:
  const options = {
        key: 'YOUR_KEY_ID', // Replace with your Razorpay key_id
        amount: '50000', // Amount is in currency subunits.
        currency: 'INR',
        name: 'Acme Corp',
        description: 'Test Transaction',
        order_id: 'order_IluGWxBm9U8zJ8', // This is the order_id created in the backend
        callback_url: 'http://localhost:3000/payment-success', // Your success URL
        prefill: {
          name: 'Gaurav Kumar',
          email: 'gaurav.kumar@example.com',
          contact: '9999999999'
        },
        theme: {
          color: '#F37254'
        },
      };

      const rzp = new Razorpay(options);
      rzp.open();



# now in the above code replace key and amount by your own key, and also the order.id (which will be available inside order that we just destructured). also replace the callback_url with whatever need to done at successful payement. in prefill you need to give customers details

now we need to craete the backend for payment successful verification but to make payment data accessible inside req.body we need to pass this middleware in the app.js
app.use(express.urlencoded({extended:true}))

//below is the payment verification and redirection code
export const paymentVerification = async(req,res)=>{
    const {razorpay_payment_id,razorpay_order_id,razorpay_signature}=req.body;
    const body=razorpay_order_id+"|"+razorpay_payment_id;
    const expectedSignature=crypto.createHmac("sha256",process.env.RAZORPAY_API_SECRET).update(body.toString()).digest("hex");
    const isAuthentic=expectedSignature===razorpay_signature;
    if(isAuthentic){
        return res.redirect(`http://localhost:5173/payment/success?reference=${razorpay_payment_id}`);
    }
    else{
        return res.status(400).json({
            success:false,
        });
    }
}

and also lastly we'll make a payment success page for the frontend of the website. for that make the routes in app.js for the paymentverification page an and make the payment success page. you can copy paste the whole PaymentSuccess page